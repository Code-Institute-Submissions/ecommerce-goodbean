{% extends 'base.html' %}

{% block content %}

<div class="mb-0 jumbotron reviewlanding"></div>
<div class="container-fluid mt-5">
	<div class="row">
		<div class="col-md-4">
			<div class="product" style="background-image: url('{{ MEDIA_URL }}{{ product.image }}')">
			</div>
		</div>
		<div class="col-md-8">
			<div class="cardcontentwrapper container-fluid" id="brazilbg">
				<div class="row p-2 d-flex justify-content-center">
					<p class="w-100 text-center p-4 aboutheader">
						<span class="bg-white py-3 px-2 text-uppercase">Most Recent Review</span>
					</p>
					{% for review in reviews|slice:"1:2" %}
                    <p class="text-white text-center aboutfont"><span class="border-bottom border-white">Comment</span></p>
                    <div class="container-fluid d-flex justify-content-center">
					    <p class="px-5 text-center aboutfont text-white align-self-center">{{ review.comment }}.</p>
                    </div>
				</div>
				<div class="row p-2">
					<div class="col-6">
						<p class="text-white text-center aboutfont"><span class="border-bottom border-white">Name</span>
						</p>
						<p class="text-white text-center aboutfont">{{ review.user.username }}</p>
					</div>
					<div class="col-6 aboutheader">
						<p class="text-white text-center aboutfont">
							<span class="border-bottom border-white">Rating</span></p>
						<p class="text-white text-center aboutfont">{{ review.rating }}</p>
						{% endfor %}
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
<div class="card border-0">
	<div class="card-body">
		<h3 class="text-center">Add Review</h3>
		<form action="{% url 'add_review' product.id %}" method="POST">
			{% csrf_token %}
			<label for="comment">Review</label>
			<textarea name="comment" id="comment" cols="30" rows="5" class="form-control"></textarea>
			<label for="rating">Rating</label>
			<input type="range" id="rangeInput"
                    name="rating" min="0" max="10" value="0" step="0.5"
                    oninput="amount.value=rangeInput.value">

			<output name="amount" id="amount" for="rangeInput">0</output>

			<br>
			<input type="submit" class="btn btn-warning" value="Add Review">
            </form>
	</div>
</div>

</div>
    <div class="card border-0">
			<div class="card-body">
				<h3 class="text-center">Reviews</h3>
            {% for review in reviews %}
                <div class="card list-group-item-warning">
                    <div class="card-body">
                        <div class="row">
                            <div class="col-md-3">
                                <h5 class="text-left">{{ review.user.username }}</h5>
                                <h5>{{ review.rating }}</h5>
                            </div>
                            <div class="col-md-9">
                                <p>{{ review.comment }}</p>
                            </div>
                        </div>
                    </div>
                </div>
                <br>
                {% endfor %}
            </div>
        </div>
    </div>
</div>
<div class="mb-0 jumbotron reviewlanding"></div>



{% endblock %}